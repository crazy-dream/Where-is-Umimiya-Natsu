<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>猜猜小丑在哪裡</title>
<style>
:root {
  --bg:#bfe8ff;
  --door:#3aa0ff;
  --door-front:#2a84d6;
  --accent:#ff4b6e;
  --text:#002d57;
}

body {
  background: var(--bg);
  font-family: "微軟正黑體", sans-serif;
  margin: 0;
  padding: 20px;
  text-align: center;
}

h1 {
  color: var(--text);
}

#game {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 40px;
}

.door {
  width: 120px;
  height: 180px;
  background: var(--door);
  border: 5px solid var(--door-front);
  border-radius: 10px;
  position: relative;
  cursor: pointer;
  overflow: hidden;
  transition: transform 1.2s; /* ⬅ 門打開動畫變長 */
}

.door.open {
  transform: rotateY(160deg);
}

.door img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 遮罩顯示區域 */
.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--bg); /* ⬅ 背景變跟遊戲一樣的藍色 */
  display: none;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  font-size: 60px;
  font-weight: 900;
  color: red;
  z-index: 999;
  animation: pop 0.4s ease-out;
}

@keyframes pop {
  from {
    transform: scale(0.5);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* 重新開始按鈕 */
.restart {
  margin-top: 30px;
  font-size: 22px;
  padding: 10px 20px;
  background: var(--door);
  border: 0;
  border-radius: 8px;
  cursor: pointer;
}
</style>
</head>
<body>

<h1>猜猜小丑在哪裡</h1>

<div id="game">
  <div class="door" data-index="0"></div>
  <div class="door" data-index="1"></div>
  <div class="door" data-index="2"></div>
</div>

<!-- 結果畫面 -->
<div id="result" class="overlay">
  <div id="resultText"></div>
  <button class="restart" onclick="initGame()">再玩一次</button>
</div>

<script>
let correctDoor = 0;
let opened = false;

function initGame() {
  opened = false;
  correctDoor = Math.floor(Math.random() * 3);
  document.getElementById("result").style.display = "none";

  document.querySelectorAll(".door").forEach((door, i) => {
    door.classList.remove("open");
    door.innerHTML = ""; 
    door.onclick = () => openDoor(i);
  });
}

function openDoor(i) {
  if (opened) return;
  opened = true;

  const doors = document.querySelectorAll(".door");
  doors[i].classList.add("open");

  setTimeout(() => {
    if (i === correctDoor) {
      doors[i].innerHTML = `<img src="https://via.placeholder.com/120x180?text=WIN">`;
      showResult(true);
    } else {
      doors[i].innerHTML = `<img src="https://via.placeholder.com/120x180?text=NOPE">`;
      showResult(false);
    }
  }, 300); 
}

function showResult(win) {
  const overlay = document.getElementById("result");
  const text = document.getElementById("resultText");
  overlay.style.display = "flex";
  text.textContent = win ? "WIN" : "GAME OVER";
}

initGame();
</script>

</body>
</html>
