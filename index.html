<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>çŒœçŒœå°ä¸‘åœ¨å“ªè£¡</title>
<style>
  :root{
    --bg:#bfe8ff;
    --door:#3aa0ff;
    --door-front:#2a84d6;
    --accent:#ff4b6e;
    --text:#002d59;
    --red:#ff3b3b;
  }
  html,body{
    height:100%;
    margin:0;
    font-family:"Microsoft JhengHei",sans-serif;
    background:var(--bg);
  }

  .game-wrap{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:28px;
    gap:18px;
  }

  header{
    width:100%;
    display:flex;
    justify-content:center;
    position:relative;
  }

  h1{
    margin:0;
    font-size:28px;
  }

  /* é—œå¡ */
  .level-badge{
    position:absolute;
    left:18px;
    top:0;
    padding:6px 10px;
    border-radius:10px;
    font-weight:700;
    background:rgba(255,255,255,0.25);
    backdrop-filter: blur(4px);
  }

  /* å‘½ */
  .lives{
    position:absolute;
    right:18px;
    top:0;
    display:flex;
    gap:8px;
  }
  .life{
    width:18px;
    height:18px;
    border-radius:50%;
    background:var(--red);
  }
  .life.empty{
    background:#eee;
    border:1px solid #aaa;
  }

  /* é–€çš„å€åŸŸ */
  .stage{
    display:flex;
    gap:22px;
    justify-content:center;
    margin-top:10px;
  }

  .door-card{
    width:420px;
    height:320px;
    background:linear-gradient(180deg,var(--door), var(--door-front));
    border-radius:12px;
    position:relative;
    overflow:hidden;
    cursor:pointer;
  }

  /* â†“â†“â†“ é€™è£¡ä¿®æ­£é€æ˜å•é¡Œï¼šåœ–ç‰‡å±¤æ”¾ä½ */
  .reveal-area{
    position:absolute;
    inset:0;
    z-index:1;
    display:flex;
    justify-content:center;
    align-items:center;
  }
  .reveal-img{
    max-width:100%;
    max-height:100%;
    object-fit:cover;
  }

  /* â†“â†“â†“ é–€æ¿å±¤è®Šé«˜ï¼Œå£“ä½åœ–ç‰‡ï¼ˆä¸é€æ˜ï¼‰ */
  .panel{
    position:absolute;
    z-index:10;
    width:50%;
    top:0;
    bottom:0;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:48px;
    color:white;
    font-weight:900;
    transition:0.7s;
  }
  .panel.left{ left:0; background:var(--door); }
  .panel.right{ right:0; background:var(--door-front); }

  .door-card.open .panel.left{ transform:translateX(-100%); }
  .door-card.open .panel.right{ transform:translateX(100%); }

  /* WIN / GAME OVER overlay */
  .overlay{
    position:fixed;
    inset:0;
    display:flex;
    justify-content:center;
    align-items:center;
    background:rgba(0,0,0,0);
    pointer-events:none;
    z-index:999;
    transition:0.3s;
  }

  /* â†“â†“â†“ é è¨­é€æ˜ï¼Œè§£æ±º "æ–‡å­—ä¸€ç›´å‡ºç¾" å•é¡Œ */
  .overlay-message{
    opacity:0;
    font-size:70px;
    font-weight:900;
    color:red;
    transition:0.3s;
  }

  /* å‡ºç¾æ™‚æ‰è¢«çœ‹åˆ° */
  .overlay.show{
    background:rgba(0,0,0,0.65);
    pointer-events:auto;
  }
  .overlay.show .overlay-message{
    opacity:1;
  }

</style>
</head>
<body>

<div class="game-wrap">
  <header>
    <div class="level-badge" id="levelBadge">ç¬¬1é—œ</div>
    <h1>çŒœçŒœå°ä¸‘åœ¨å“ªè£¡</h1>
    <div class="lives">
      <div class="life" id="life1"></div>
      <div class="life" id="life2"></div>
      <div class="life" id="life3"></div>
    </div>
  </header>

  <div class="stage">
    <div class="door-card" id="doorA">
      <div class="reveal-area"><img id="imgA" class="reveal-img"></div>
      <div class="panel left">ğŸ¤¡</div>
      <div class="panel right">ğŸ¤¡</div>
    </div>
    <div class="door-card" id="doorB">
      <div class="reveal-area"><img id="imgB" class="reveal-img"></div>
      <div class="panel left">ğŸ¤¡</div>
      <div class="panel right">ğŸ¤¡</div>
    </div>
  </div>

  <button onclick="restartGame()">é‡æ–°é–‹å§‹</button>
</div>

<!-- overlay -->
<div class="overlay" id="overlay">
  <div class="overlay-message" id="overlayMsg">GAME OVER</div>
</div>

<script>
let level = 1;
let lives = 3;
let jokerSide = "A";

  

const JOKER_IMAGES = [
  "joker/1.png",
  "joker/1000018658.jpeg",
  "joker/1000018659.jpeg",
  "joker/2.png",
  "joker/3.png",
  "joker/4 (2).png",
  "joker/4.png",
  "joker/5.png",
  "joker/546175134_1138063744950693_180659281319095751_n.jpg",
  "joker/Am I (1).jpg",
  "joker/Am I (2).jpg",
  "joker/Am I (3).jpg",
  "joker/Am I (4).jpg",
  "joker/Am I.jpg",
  "joker/I am joker. (1).jpg",
  "joker/I am joker. (2).jpg",
  "joker/I am joker. (3).jpg",
  "joker/I am joker. çš„è¤‡æœ¬ (1).jpg",
  "joker/I am joker..jpg",
  "joker/I am joker..png",
  "joker/IMG_20250806_193336_118.jpg",
  "joker/IMG_20251001_224237_440-removebg-preview.png",
  "joker/IMG_20251118_213550_407.jpg",
  "joker/unnamed (1).webp",
  "joker/unnamed (2).webp",
  "joker/unnamed (4).webp",
  "joker/unnamed.webp",
  "joker/æœªå‘½åè¨­è¨ˆ.jpg",
  "joker/æœªå‘½åè¨­è¨ˆ.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 231537.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 231953.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232248.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232410.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232433.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232449.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 233008.png"
];

const FILLER_IMAGES = [
  "wrong/Ri86b7h.jpg"
];

  
const doorA = document.getElementById("doorA");
const doorB = document.getElementById("doorB");
const imgA = document.getElementById("imgA");
const imgB = document.getElementById("imgB");

const overlay = document.getElementById("overlay");
const overlayMsg = document.getElementById("overlayMsg");

function updateLives(){
  for(let i=1;i<=3;i++){
    const el = document.getElementById("life"+i);
    if(i <= lives) el.classList.remove("empty");
    else el.classList.add("empty");
  }
}

function setupLevel(){
  document.querySelectorAll(".door-card").forEach(d=>d.classList.remove("open"));
  
  jokerSide = Math.random() < 0.5 ? "A":"B";
  const jokerImg = JOKER_IMAGES[level-1];
  const fillerImg = FILLER_IMAGES[Math.floor(Math.random()*FILLER_IMAGES.length)];

  if(jokerSide==="A"){ imgA.src = jokerImg; imgB.src = fillerImg; }
  else{ imgA.src = fillerImg; imgB.src = jokerImg; }
}

function showGameOver(){
  overlay.classList.add("show");
  overlayMsg.textContent = "GAME OVER";
}
function showWin(){
  overlay.classList.add("show");
  overlayMsg.textContent = "WIN";
  overlayMsg.style.color = "lime";
}

function clickDoor(side){
  const door = side==="A"?doorA:doorB;
  door.classList.add("open");

  setTimeout(()=>{
    if(side===jokerSide){
      if(level===6){ showWin(); }
      else{
        level++;
        setupLevel();
      }
    }else{
      lives--;
      updateLives();
      if(lives<=0){ showGameOver(); }
      else setupLevel();
    }
  },700);
}

doorA.onclick = ()=> clickDoor("A");
doorB.onclick = ()=> clickDoor("B");

function restartGame(){
  level = 1;
  lives = 3;
  updateLives();
  overlay.classList.remove("show");
  overlayMsg.style.color = "red";
  setupLevel();
}

updateLives();
setupLevel();
</script>

</body>
</html>
