```html
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>çŒœçŒœå°ä¸‘åœ¨å“ªè£¡</title>
<style>
  :root{
    --bg:#bfe8ff;
    --door:#3aa0ff;
    --door-front:#2a84d6;
    --accent:#ff4b6e;
    --text:#002d59;
    --red:#ff3b3b;
    --muted:#c8d6e5;
  }
  html,body{
    height:100%;
    margin:0;
    font-family: "Noto Sans", "Microsoft JhengHei", sans-serif;
    background:var(--bg);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }
  /* Layout */
  .game-wrap{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:start;
    padding:28px;
    box-sizing:border-box;
    gap:18px;
  }

  header{
    width:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
  }

  h1{
    margin:0;
    font-size:28px;
    letter-spacing:1px;
  }

  /* Top-left level */
  .level-badge{
    position:absolute;
    left:18px;
    top:0;
    transform:translateY(6px);
    background:rgba(255,255,255,0.25);
    padding:6px 10px;
    border-radius:10px;
    font-weight:700;
    backdrop-filter: blur(4px);
    box-shadow:0 3px 10px rgba(0,0,0,0.08);
  }

  /* Top-right lives */
  .lives{
    position:absolute;
    right:18px;
    top:0;
    transform:translateY(6px);
    display:flex;
    gap:8px;
    align-items:center;
  }
  .life{
    width:18px;
    height:18px;
    border-radius:50%;
    background:var(--red);
    box-shadow:0 2px 6px rgba(255,59,59,0.35);
  }
  .life.empty{
    background: #f0f0f0;
    box-shadow:none;
    border:2px solid rgba(0,0,0,0.06);
  }

  /* Game area */
  .stage{
    width:100%;
    max-width:980px;
    flex:1 0 auto;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:22px;
    padding:20px;
    box-sizing:border-box;
  }

  /* Door container as horizontal doors (two panels revealing center image) */
  .door-card{
    width:420px;
    height:320px;
    background:linear-gradient(180deg,var(--door) 0%, var(--door-front) 100%);
    border-radius:12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.12);
    position:relative;
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    user-select:none;
  }

  /* inner content area that will be revealed when doors slide open */
  .reveal-area{
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    background:linear-gradient(180deg,#e9f6ff, #ffffff);
  }

  /* two door-panels that slide horizontally to reveal image */
  .panel{
    position:absolute;
    top:0;
    bottom:0;
    width:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    transition: all 700ms cubic-bezier(.2,.9,.2,1);
    z-index:8;
    color:white;
    font-size:48px;
    font-weight:900;
    text-shadow: 0 3px 8px rgba(0,0,0,0.25);
  }
  .panel.left{
    left:0;
    border-right:1px solid rgba(255,255,255,0.06);
  }
  .panel.right{
    right:0;
    border-left:1px solid rgba(0,0,0,0.06);
  }

  /* small handle / hinge effect */
  .panel::after{
    content:"";
    position:absolute;
    width:12px;
    height:80px;
    background:rgba(0,0,0,0.08);
    border-radius:6px;
    top:50%;
    transform:translateY(-50%);
    opacity:0.15;
  }
  .panel.left::after{ right:6px; transform:translateY(-50%); }
  .panel.right::after{ left:6px; transform:translateY(-50%); }

  /* when opened */
  .door-card.open .panel.left{ transform: translateX(-110%); }
  .door-card.open .panel.right{ transform: translateX(110%); }

  /* image behind the doors */
  .reveal-img{
    max-width:100%;
    max-height:100%;
    object-fit:cover;
    border-radius:8px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    transform:scale(1);
    transition: transform 600ms ease;
  }
  .door-card.open .reveal-img{ transform: scale(1.03); }

  /* small footer hints */
  .hint{
    width:100%;
    text-align:center;
    color:#064063;
    font-size:14px;
    margin-top:6px;
    opacity:0.9;
  }

  /* overlay for Game Over and Win */
  .overlay{
    position:fixed;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    background:rgba(0,0,0,0.0);
    pointer-events:none;
    transition: background 420ms ease;
    z-index:999;
  }
  .overlay.show{
    pointer-events:auto;
    background: rgba(0,0,0,0.6);
  }

  .overlay-message{
    color:var(--red);
    font-size:72px;
    font-weight:900;
    letter-spacing:6px;
    text-align:center;
    text-shadow: 0 6px 18px rgba(0,0,0,0.6);
    transform:translateY(0);
    transition: transform 500ms cubic-bezier(.2,.9,.2,1);
  }
  .overlay.hide .overlay-message{ transform:translateY(-20px); opacity:0; }

  /* small controls */
  .controls{
    display:flex;
    gap:12px;
    margin-top:6px;
    align-items:center;
  }
  .btn{
    background:var(--accent);
    color:white;
    border:none;
    padding:8px 12px;
    border-radius:8px;
    cursor:pointer;
    font-weight:700;
    box-shadow:0 6px 16px rgba(255,75,110,0.18);
  }
  .btn.ghost{
    background:transparent;
    color:var(--text);
    box-shadow:none;
    border:1px solid rgba(0,0,0,0.06);
  }

  /* small responsive */
  @media (max-width:960px){
    .stage{ flex-direction:column; padding:10px; gap:16px; }
    .door-card{ width:92%; max-width:640px; height:260px; }
    h1{ font-size:22px; }
    .overlay-message{ font-size:52px; }
  }
</style>
</head>
<body>
  <div class="game-wrap">
    <header>
      <div class="level-badge" id="levelBadge">ç¬¬1é—œ</div>
      <h1>çŒœçŒœå°ä¸‘åœ¨å“ªè£¡</h1>
      <div class="lives" id="livesWrap" aria-hidden="false">
        <div class="life" id="life1"></div>
        <div class="life" id="life2"></div>
        <div class="life" id="life3"></div>
      </div>
    </header>

    <main class="stage" id="stage">
      <!-- Left door-card -->
      <div class="door-card" id="doorA" data-side="A" role="button" aria-label="é–€A">
        <div class="reveal-area">
          <!-- The image behind this door (will show when opened) -->
          <img class="reveal-img" id="imgA" src="" alt="ç§˜å¯†åœ–ç‰‡ A" draggable="false">
        </div>
        <div class="panel left">ğŸ¤¡</div>
        <div class="panel right">ğŸ¤¡</div>
      </div>

      <!-- Right door-card -->
      <div class="door-card" id="doorB" data-side="B" role="button" aria-label="é–€B">
        <div class="reveal-area">
          <img class="reveal-img" id="imgB" src="" alt="ç§˜å¯†åœ–ç‰‡ B" draggable="false">
        </div>
        <div class="panel left">ğŸ¤¡</div>
        <div class="panel right">ğŸ¤¡</div>
      </div>
    </main>

    <div class="hint" id="hintText">é»æ“Šä¸€æ‰‡é–€ä¾†çŒœå°ä¸‘åœ¨å“ªè£¡ â€” å…±æœ‰ 6 é—œï¼ŒçŒœå°å°±éé—œï¼ŒçŒœéŒ¯æ‰£å‘½ï¼</div>

    <div style="display:flex;gap:10px;align-items:center;">
      <button class="btn" id="restartBtn">é‡æ–°é–‹å§‹</button>
      <button class="btn ghost" id="nextBtn">è·³åˆ°ä¸‹ä¸€é—œ</button>
    </div>
  </div>

  <!-- overlays -->
  <div class="overlay" id="overlay">
    <div class="overlay-message" id="overlayMessage">GAME OVER</div>
  </div>

<script>
/*
  å®Œæ•´éŠæˆ²é‚è¼¯ï¼š
  - å…­é—œ (levels 1..6)
  - æ¯ä¸€é—œåœ¨å…©å€‹é–€ä¸­éš¨æ©Ÿæ”¾ç½®ã€Œå°ä¸‘åœ–ã€(joker)ï¼Œå¦ä¸€é‚Šæ”¾æ™®é€šåœ–ç‰‡
  - ä½¿ç”¨è€…é»æ“Šé–€ä»¥é–‹é–€ï¼›è‹¥æ‰¾åˆ°å°ä¸‘ = éé—œ (é€²å…¥ä¸‹ä¸€é—œ)ï¼›è‹¥çŒœéŒ¯ = æ‰£ä¸€å‘½
  - ä¸‰æ¢å‘½ç”¨å®Œæœƒé¡¯ç¤º Game Over (ç•«é¢è®Šæš—ï¼Œé¡¯ç¤º GAME OVER)
  - å®Œæˆå…­é—œé¡¯ç¤º WIN
  - åœ–ç‰‡ä¾†æºé è¨­ç‚º ./joker/1.png ... ./joker/6.png ä½œç‚ºå°ä¸‘ç´ æï¼Œèˆ‡å…¶ä»– filler åœ–ç‰‡
  - ç¨‹å¼ç¢¼åªç”¨ç´”å‰ç«¯ï¼Œåœ–ç‰‡è·¯å¾‘è«‹æ”¾åœ¨å°æ‡‰è³‡æ–™å¤¾ (e.g. Where-is-Umimiya-Natsu/joker/1.png ...)
*/

/* è¨­å®šï¼šè«‹æŠŠä½ çš„åœ–ç‰‡æ”¾åœ¨ ./joker/ ç›®éŒ„ä¸‹ï¼Œæª”åæˆ‘é è¨­äº†å¤šå€‹ï¼Œå¦‚æœä½ æœ‰ä¸åŒåå­—è«‹ä¿®æ”¹ arrays å…§çš„å°æ‡‰è·¯å¾‘ */
const JOKER_IMAGES = [
  "joker/1.png",
  "joker/2.png",
  "joker/3.png",
  "joker/4.png",
  "joker/5.png",
  "joker/6.png"
];

const FILLER_IMAGES = [
  "joker/1000018658.jpeg",
  "joker/1000018659.jpeg",
  "joker/2.png",
  "joker/3.png",
  "joker/4.png",
  "joker/5.png",
  "joker/Am I (1).jpg",
  "joker/Am I (2).jpg",
  "joker/Am I (3).jpg",
  "joker/Am I (4).jpg",
  "joker/I am joker..jpg",
  "joker/unnamed.webp"
];

/* DOM */
const doorA = document.getElementById("doorA");
const doorB = document.getElementById("doorB");
const imgA = document.getElementById("imgA");
const imgB = document.getElementById("imgB");
const livesWrap = document.getElementById("livesWrap");
const levelBadge = document.getElementById("levelBadge");
const overlay = document.getElementById("overlay");
const overlayMessage = document.getElementById("overlayMessage");
const restartBtn = document.getElementById("restartBtn");
const nextBtn = document.getElementById("nextBtn");
const hintText = document.getElementById("hintText");

/* éŠæˆ²ç‹€æ…‹ */
let level = 1;
const MAX_LEVELS = 6;
let lives = 3;
let opened = false; // prevent double-click during animation
let jokerSide = "A"; // current location of joker for this level

/* å°å·¥å…· */
function randChoice(arr){
  return arr[Math.floor(Math.random()*arr.length)];
}

function clamp(v,min,max){ return Math.max(min, Math.min(max, v)); }

function updateLivesUI(){
  for(let i=1;i<=3;i++){
    const el = document.getElementById("life"+i);
    if(i <= lives) el.classList.remove("empty");
    else el.classList.add("empty");
  }
}

/* åˆå§‹åŒ–ä¸€é—œ */
function setupLevel(){
  opened = false;
  document.querySelectorAll(".door-card").forEach(dc => dc.classList.remove("open"));
  levelBadge.textContent = "ç¬¬" + level + "é—œ";
  hintText.textContent = `ç¬¬ ${level} é—œï¼šé»æ“Šä¸€æ‰‡é–€ä¾†çŒœå°ä¸‘åœ¨å“ªè£¡ã€‚`;
  // pick which side has joker
  jokerSide = Math.random() < 0.5 ? "A" : "B";

  // pick images: for joker side use JOKER_IMAGES[level-1] if available else random
  const jokerImg = JOKER_IMAGES[level-1] || randChoice(JOKER_IMAGES);
  const fillerImg = randChoice(FILLER_IMAGES);

  if(jokerSide === "A"){
    imgA.src = jokerImg;
    imgB.src = fillerImg;
  } else {
    imgB.src = jokerImg;
    imgA.src = fillerImg;
  }
}

/* é–‹é–€å‹•ç•«èˆ‡åˆ¤å®š */
function handleDoorClick(side){
  if(opened) return;
  opened = true;

  const chosenDoor = side === "A" ? doorA : doorB;
  const otherDoor = side === "A" ? doorB : doorA;
  chosenDoor.classList.add("open");

  // å»¶é²é¡¯ç¤ºçµæœï¼Œæ¨¡æ“¬é–€æ‰“é–‹æ™‚é–“
  setTimeout(() => {
    const found = (side === jokerSide);
    if(found){
      // æ­£ç¢ºï¼šæç¤ºä¸¦é€²å…¥ä¸‹ä¸€é—œï¼ˆæˆ–é¡¯ç¤ºWINï¼‰
      hintText.textContent = "ä½ æ‰¾åˆ°äº†å°ä¸‘ï¼éé—œä¸­...";
      // å…ˆæŠŠå¦ä¸€æ‰‡é–€ä¹Ÿæ‰“é–‹ï¼Œéœ²å‡ºå…¨å ´æ™¯
      otherDoor.classList.add("open");
      setTimeout(() => {
        // ä¸‹ä¸€é—œæˆ–çµæŸ
        if(level >= MAX_LEVELS){
          showWin();
        } else {
          level++;
          setupLevel();
        }
      }, 900);
    } else {
      // çŒœéŒ¯ï¼šæ‰£å‘½
      lives = clamp(lives - 1, 0, 3);
      updateLivesUI();
      hintText.textContent = "ä¸æ˜¯é€™è£¡ï¼ä½ æå¤±äº†ä¸€å‘½ã€‚";
      // é¡¯ç¤ºéŒ¯èª¤ç‰¹æ•ˆï¼šå¿«é€Ÿæ–æ™ƒé–€
      chosenDoor.animate([
        { transform: 'translateX(0)' },
        { transform: 'translateX(-6px)' },
        { transform: 'translateX(6px)' },
        { transform: 'translateX(0)' }
      ], { duration: 400, iterations: 2 });

      // è‹¥å‘½ç”¨å®Œ => éŠæˆ²çµæŸ
      if(lives <= 0){
        // æ‰“é–‹å…©æ‰‡é–€å¾Œé¡¯ç¤º GAME OVER
        otherDoor.classList.add("open");
        setTimeout(()=> showGameOver(), 700);
      } else {
        // å°‡å¦ä¸€æ‰‡é–€ä¹Ÿç¨å¾®æ‰“é–‹è®“ç©å®¶çœ‹è¦‹çœŸç›¸ï¼Œç„¶å¾Œåœ¨çŸ­æš«æ™‚é–“å¾Œé€²å…¥ä¸‹ä¸€é—œï¼ˆæˆ–é‡æ–°å…è¨±é»æ“Šï¼‰
        otherDoor.classList.add("open");
        setTimeout(() => {
          // ç•¶ç©å®¶é‚„æœ‰å‘½ä¸”æ²’åˆ°é”æœ€å¾Œé—œï¼Œæº–å‚™ä¸‹ä¸€é—œï¼ˆä¸è‡ªå‹•å‡é—œï¼Œç¶­æŒåŒä¸€é—œè®“ç©å®¶é‡æ–°çŒœï¼Ÿä¾è¨­è¨ˆæ”¹ç‚ºï¼šåŒä¸€é—œç¹¼çºŒç›´åˆ°æ‰¾åˆ°æˆ–å‘½ç”¨å®Œï¼‰
          // æˆ‘å€‘è®“é—œå¡ä¸è®Šï¼Œä½†é‡æ–°éš¨æ©Ÿä½ç½®ä¸¦é—œé–€ï¼Œç¹¼çºŒæŒ‘æˆ°ï¼ˆç”¨é€™å€‹æ–¹å¼å¢åŠ åˆºæ¿€ï¼‰
          setupLevel();
        }, 900);
      }
    }
  }, 420);
}

/* é¡¯ç¤º Game Over */
function showGameOver(){
  overlay.classList.add("show");
  overlayMessage.textContent = "GAME OVER";
  // slow pulse
  overlayMessage.animate([
    { transform: 'scale(0.95)' },
    { transform: 'scale(1.03)' },
    { transform: 'scale(0.98)' }
  ], { duration: 900, iterations: Infinity });
  // lock interactions
  document.querySelectorAll(".door-card").forEach(dc => dc.style.pointerEvents = "none");
}

/* é¡¯ç¤º Win */
function showWin(){
  overlay.classList.add("show");
  overlayMessage.textContent = "WIN";
  overlayMessage.style.color = "#00c853"; // ç¶ è‰²å‹åˆ©å­—é«”
  overlayMessage.animate([
    { transform: 'translateY(-20px) scale(.9)', opacity:0 },
    { transform: 'translateY(0) scale(1.06)', opacity:1 },
    { transform: 'translateY(-6px) scale(1)', opacity:1 }
  ], { duration: 800, easing: 'cubic-bezier(.2,.9,.2,1)'});
  document.querySelectorAll(".door-card").forEach(dc => dc.style.pointerEvents = "none");
  hintText.textContent = "æ­å–œï¼ä½ å®Œæˆå…¨éƒ¨é—œå¡ï¼";
}

/* é‡æ–°é–‹å§‹éŠæˆ² */
function restartGame(){
  level = 1;
  lives = 3;
  overlay.classList.remove("show");
  overlayMessage.style.color = "var(--red)";
  document.querySelectorAll(".door-card").forEach(dc => { dc.style.pointerEvents = "auto"; dc.classList.remove("open"); });
  updateLivesUI();
  setupLevel();
}

/* å¿«é€Ÿè·³åˆ°ä¸‹ä¸€é—œï¼ˆçµ¦ç©å®¶èª¿è©¦ç”¨ï¼‰ */
function nextLevel(){
  if(level < MAX_LEVELS){
    level++;
    setupLevel();
  } else {
    showWin();
  }
}

/* ç¶å®šäº‹ä»¶ */
doorA.addEventListener("click", ()=> handleDoorClick("A"));
doorB.addEventListener("click", ()=> handleDoorClick("B"));
restartBtn.addEventListener("click", ()=> restartGame());
nextBtn.addEventListener("click", ()=> nextLevel());

/* é è¼‰åœ–ç‰‡ï¼ˆæŸ”å’Œé«”é©—ï¼‰ */
function preloadImages(list){
  list.forEach(src=>{
    const i = new Image();
    i.src = src;
  });
}

/* é é¢å•Ÿå‹• */
(function init(){
  updateLivesUI();
  preloadImages([...JOKER_IMAGES, ...FILLER_IMAGES]);
  setupLevel();
})();
</script>
</body>
</html>
```
