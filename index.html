<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>çŒœçŒœå°ä¸‘åœ¨å“ªè£¡</title>
<style>
:root{
  --bg:#bfe8ff;
  --door:#3aa0ff;
  --door-front:#2a84d6;
  --accent:#ff4b6e;
  --text:#002d59;
}

body{
  margin:0;
  background:var(--bg);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  height:100vh;
  overflow:hidden;
  user-select:none;
  font-family:'Arial',sans-serif;
}

/* é–€å®¹å™¨ */
.door-box{
  position:relative;
  width:260px;
  height:380px;
  perspective:1100px;
  cursor:pointer;
}

/* å¾Œé–€ï¼ˆå›ºå®šä¸å‹•çš„é‚£æ‰‡ï¼‰ */
.back-door{
  position:absolute;
  width:100%;
  height:100%;
  background:var(--door);
  border-radius:10px;
}

/* å‰é–€ï¼ˆæœƒé–‹çš„é‚£æ‰‡ï¼‰ */
.front-door{
  position:absolute;
  width:100%;
  height:100%;
  background:var(--door-front);
  border-radius:10px;
  transform-origin:left;
  transform:rotateY(0deg);
  transition:transform 0.75s ease;
}

/* é–‹é–€ */
.open{
  transform:rotateY(-98deg);
}

/* é¡¯ç¤ºåœ–ç‰‡ */
#jokerImg{
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  object-fit:cover;
  border-radius:10px;
  display:none;
}

/* å°ä¸‘å‡ºå ´ç‰¹æ•ˆ */
.joker-pop{
  position:absolute;
  top:50%; left:50%;
  transform:translate(-50%,-50%) scale(0.1);
  font-size:70px;
  opacity:0;
  transition:transform 0.6s ease, opacity 0.6s ease;
}

.joker-pop.show{
  transform:translate(-50%,-50%) scale(1.4);
  opacity:1;
}

.joker-pop.hide{
  opacity:0;
  transform:translate(-50%,-50%) scale(0.1);
}

/* éŒ¯èª¤æ–æ™ƒ */
@keyframes shakeDoor {
  0%{ transform:rotateY(-98deg) translateX(0px); }
  25%{ transform:rotateY(-98deg) translateX(-6px); }
  50%{ transform:rotateY(-98deg) translateX(6px); }
  75%{ transform:rotateY(-98deg) translateX(-6px); }
  100%{ transform:rotateY(-98deg) translateX(0px); }
}

.shake{
  animation:shakeDoor 0.45s;
}

/* WIN / GAME OVER */
.result{
  position:fixed;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  font-size:80px;
  font-weight:900;
  color:red;
  text-shadow:3px 3px 8px black;
  display:none;
  z-index:999;
}

.win-text{
  color:#0080ff; /* ä½ è¦æ±‚ï¼šWIN æ”¹è—è‰² */
}

/* å³ä¸Šè§’é—œå¡ */
#levelText{
  position:fixed;
  top:10px;
  right:15px;
  font-size:30px;
  color:#003060;
  font-weight:bold;
}

</style>
</head>
<body>

<div id="levelText">Lv. 1</div>

<div class="door-box" id="doorBox">
  <img id="jokerImg">
  <div class="back-door"></div>
  <div class="front-door" id="frontDoor"></div>
</div>

<div class="joker-pop" id="jokerPop">ğŸ¤¡</div>

<div class="result" id="resultText"></div>

<script>
/* æ‰€æœ‰æ­£ç¢ºå°ä¸‘å€‘ */
const JOKER_IMAGES = [
  "joker/1.png","joker/1000018658.jpeg","joker/1000018659.jpeg","joker/2.png",
  "joker/3.png","joker/4 (2).png","joker/4.png","joker/5.png",
  "joker/546175134_1138063744950693_180659281319095751_n.jpg",
  "joker/Am I (1).jpg","joker/Am I (2).jpg","joker/Am I (3).jpg","joker/Am I (4).jpg","joker/Am I.jpg",
  "joker/I am joker. (1).jpg","joker/I am joker. (2).jpg","joker/I am joker. (3).jpg",
  "joker/I am joker. çš„è¤‡æœ¬ (1).jpg","joker/I am joker..jpg","joker/I am joker..png",
  "joker/IMG_20250806_193336_118.jpg","joker/IMG_20251001_224237_440-removebg-preview.png",
  "joker/IMG_20251118_213550_407.jpg",
  "joker/unnamed (1).webp","joker/unnamed (2).webp","joker/unnamed (4).webp","joker/unnamed.webp",
  "joker/æœªå‘½åè¨­è¨ˆ.jpg","joker/æœªå‘½åè¨­è¨ˆ.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 231537.png","joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 231953.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232248.png","joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232410.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232433.png","joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232449.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 233008.png"
];

/* éŒ¯èª¤ç”¨ */
const WRONG_IMAGE = "wrong/Ri86b7h.jpg";

let frontDoor = document.getElementById("frontDoor");
let jokerImg = document.getElementById("jokerImg");
let doorBox = document.getElementById("doorBox");
let resultText = document.getElementById("resultText");
let jokerPop = document.getElementById("jokerPop");
let levelText = document.getElementById("levelText");

let canClick = true;
let level = 1;
let isCorrect = false;

/* éš¨æ©ŸæŒ‘ä¸€å¼µå°ä¸‘ */
function getRandomJoker(){
  return JOKER_IMAGES[Math.floor(Math.random()*JOKER_IMAGES.length)];
}

/* è¨­å®šæ–°åœ–ç‰‡ï¼ˆæ­£ç¢º or éŒ¯èª¤ï¼‰ */
function setNewImage(){
  jokerImg.style.display = "none";

  isCorrect = Math.random() < 0.5; // 50% æ©Ÿç‡

  if(isCorrect){
    jokerImg.src = getRandomJoker();
  }else{
    jokerImg.src = WRONG_IMAGE;
  }
}

/* ç¬¬ä¸€æ¬¡å…ˆè¨­å®š */
setNewImage();

/* é»æ“Šäº‹ä»¶ */
doorBox.onclick = async ()=>{
  if(!canClick) return;
  canClick = false;

  /* é–‹é–€ */
  frontDoor.classList.add("open");

  await wait(750); // ç­‰å¾…é–€å®Œå…¨é–‹å•Ÿ

  jokerImg.style.display = "block";

  /* ç‰¹æ•ˆé–‹å§‹ */
  if(isCorrect){
    jokerPop.classList.add("show");

    await wait(600); // å°ä¸‘æ”¾å¤§ç‰¹æ•ˆ

    jokerPop.classList.remove("show");
    jokerPop.classList.add("hide");

    await wait(300);
    jokerPop.classList.remove("hide");

  }else{
    frontDoor.classList.add("shake");

    await wait(450);

    frontDoor.classList.remove("shake");
  }

  /* é—œé–€ */
  frontDoor.classList.remove("open");

  await wait(750); // é–€å®Œå…¨é—œé–‰å¾Œæ‰èƒ½æ›åœ–ï¼ˆä½ è¦æ±‚çš„ï¼‰

  level++;
  levelText.textContent = "Lv. " + level;

  setNewImage();

  canClick = true;
};

/* å°å·¥å…·ï¼šç­‰å¾… */
function wait(ms){
  return new Promise(res=>setTimeout(res,ms));
}

</script>

</body>
</html>
