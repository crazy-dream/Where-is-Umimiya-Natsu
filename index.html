<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>çŒœçŒœå°ä¸‘åœ¨å“ªè£¡</title>
<style>
:root{
  --bg:#bfe8ff;
  --door:#3aa0ff;
  --accent:#ff4b6e;
  --text:#002d59;
  --red:#ff3b3b;
  --win:#1E90FF; /* WINè—è‰² */
}
html,body{
  height:100%;
  margin:0;
  font-family:"Microsoft JhengHei",sans-serif;
  background:var(--bg);
}
.game-wrap{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:28px;
  gap:18px;
}
header{
  width:100%;
  display:flex;
  justify-content:center;
  position:relative;
}
h1{margin:0;font-size:28px;}
.level-badge{
  position:absolute;
  left:18px;
  top:0;
  padding:6px 10px;
  border-radius:10px;
  font-weight:700;
  background:rgba(255,255,255,0.25);
  backdrop-filter: blur(4px);
}
.lives{
  position:absolute;
  right:18px;
  top:0;
  display:flex;
  gap:8px;
}
.life{
  width:18px;
  height:18px;
  border-radius:50%;
  background:var(--red);
}
.life.empty{
  background:#eee;
  border:1px solid #aaa;
}
.stage{
  display:flex;
  gap:32px;
  justify-content:center;
  margin-top:20px;
}
.door-card{
  width:540px;
  height:420px;
  background:var(--door);
  border-radius:16px;
  position:relative;
  overflow:hidden;
  cursor:pointer;
}
.reveal-area{
  position:absolute;
  inset:0;
  z-index:1;
  display:flex;
  justify-content:center;
  align-items:center;
}
.reveal-img{
  max-width:100%;
  max-height:100%;
  object-fit:cover;
}
.panel{
  position:absolute;
  z-index:10;
  width:50%;
  top:0;
  bottom:0;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:60px;
  color:white;
  font-weight:900;
  background:var(--door);
  transition:0.75s;
}
.panel.left{ left:0; }
.panel.right{ right:0; }
.door-card.open .panel.left{ transform:translateX(-100%); }
.door-card.open .panel.right{ transform:translateX(100%); }
.overlay{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  background:rgba(0,0,0,0);
  pointer-events:none;
  z-index:999;
  transition:0.3s;
}
.overlay-message{
  opacity:0;
  font-size:70px;
  font-weight:900;
  color:red;
  transition:0.3s;
}
.overlay.show{
  background:rgba(0,0,0,0.65);
  pointer-events:auto;
}
.overlay.show .overlay-message{
  opacity:1;
}
</style>
</head>
<body>

<div class="game-wrap">
  <header>
    <div class="level-badge" id="levelBadge">ç¬¬1é—œ</div>
    <h1>çŒœçŒœå°ä¸‘åœ¨å“ªè£¡</h1>
    <div class="lives">
      <div class="life" id="life1"></div>
      <div class="life" id="life2"></div>
      <div class="life" id="life3"></div>
    </div>
  </header>

  <div class="stage">
    <div class="door-card" id="doorA">
      <div class="reveal-area"><img id="imgA" class="reveal-img"></div>
      <div class="panel left">ğŸ¤¡</div>
      <div class="panel right">ğŸ¤¡</div>
    </div>
    <div class="door-card" id="doorB">
      <div class="reveal-area"><img id="imgB" class="reveal-img"></div>
      <div class="panel left">ğŸ¤¡</div>
      <div class="panel right">ğŸ¤¡</div>
    </div>
  </div>
</div>

<div class="overlay" id="overlay">
  <div class="overlay-message" id="overlayMsg">GAME OVER</div>
</div>

<script>
let level = 1;
let lives = 3;
let jokerSide = "A";
let lock = false;

const JOKER_IMAGES = [
  "joker/1.png","joker/1000018658.jpeg","joker/1000018659.jpeg","joker/2.png","joker/3.png",
  "joker/4 (2).png","joker/4.png","joker/5.png","joker/546175134_1138063744950693_180659281319095751_n.jpg",
  "joker/Am I (1).jpg","joker/Am I (2).jpg","joker/Am I (3).jpg","joker/Am I (4).jpg","joker/Am I.jpg",
  "joker/I am joker. (1).jpg","joker/I am joker. (2).jpg","joker/I am joker. (3).jpg","joker/I am joker. çš„è¤‡æœ¬ (1).jpg",
  "joker/I am joker..jpg","joker/I am joker..png","joker/IMG_20250806_193336_118.jpg","joker/IMG_20251001_224237_440-removebg-preview.png",
  "joker/IMG_20251118_213550_407.jpg","joker/unnamed (1).webp","joker/unnamed (2).webp","joker/unnamed (4).webp",
  "joker/unnamed.webp","joker/æœªå‘½åè¨­è¨ˆ.jpg","joker/æœªå‘½åè¨­è¨ˆ.png","joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 231537.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 231953.png","joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232248.png","joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232410.png",
  "joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232433.png","joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 232449.png","joker/è¢å¹•æ“·å–ç•«é¢ 2025-11-20 233008.png"
];
const FILLER_IMAGES = ["wrong/Ri86b7h.jpg"];

const doorA = document.getElementById("doorA");
const doorB = document.getElementById("doorB");
const imgA = document.getElementById("imgA");
const imgB = document.getElementById("imgB");
const overlay = document.getElementById("overlay");
const overlayMsg = document.getElementById("overlayMsg");
const levelBadge = document.getElementById("levelBadge");

function updateLives(){
  for(let i=1;i<=3;i++){
    const el = document.getElementById("life"+i);
    if(i <= lives) el.classList.remove("empty");
    else el.classList.add("empty");
  }
}

function setRandomImages(){
  jokerSide = Math.random() < 0.5 ? "A":"B";
  const jokerImg = JOKER_IMAGES[Math.floor(Math.random()*JOKER_IMAGES.length)];
  const fillerImg = FILLER_IMAGES[0];
  if(jokerSide==="A"){ imgA.src=jokerImg; imgB.src=fillerImg; }
  else{ imgA.src=fillerImg; imgB.src=jokerImg; }
}

function setupLevel(first=false){
  document.querySelectorAll(".door-card").forEach(d=>d.classList.remove("open"));
  lock = false;
  levelBadge.textContent = `ç¬¬${level}é—œ`;
  if(first){ // ç¬¬ä¸€æ¬¡é€²éŠæˆ²è¦é¡¯ç¤ºåœ–ç‰‡
    setRandomImages();
  }
}

function showGameOver(){
  overlay.classList.add("show");
  overlayMsg.textContent = "GAME OVER";
  overlayMsg.style.color="red";
}

function showWin(){
  overlay.classList.add("show");
  overlayMsg.textContent="WIN";
  overlayMsg.style.color="var(--win)";
}

function clickDoor(side){
  if(lock) return;
  lock = true;
  const door = side==="A"?doorA:doorB;
  door.classList.add("open");

  // ç­‰é–€å‹•ç•«çµæŸï¼Œç„¶å¾Œé–€æ”¶å›ï¼Œå†æ›ä¸‹ä¸€é—œåœ–ç‰‡
  setTimeout(()=>{
    // æ±ºå®šå‹è² 
    if(side===jokerSide){
      level++;
      if(level>6){ showWin(); return; }
    }else{
      lives--;
      updateLives();
      if(lives<=0){ showGameOver(); return; }
    }

    // é–€å®Œå…¨é—œèµ·ä¾†å¾Œå†æ›ä¸‹ä¸€é—œåœ–ç‰‡
    setTimeout(()=>{
      setRandomImages();
      document.querySelectorAll(".door-card").forEach(d=>d.classList.remove("open"));
      lock = false;
      levelBadge.textContent = `ç¬¬${level}é—œ`;
    }, 300); // é–€æ”¶å›å‹•ç•«æ™‚é–“
  },800); // é–€æ‰“é–‹å‹•ç•«æ™‚é–“
}

doorA.onclick = ()=>clickDoor("A");
doorB.onclick = ()=>clickDoor("B");

updateLives();
setupLevel(true); // trueè¡¨ç¤ºç¬¬ä¸€æ¬¡é€²éŠæˆ²å°±é¡¯ç¤ºåœ–ç‰‡
</script>

</body>
</html>
